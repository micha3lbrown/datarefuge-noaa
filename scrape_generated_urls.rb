#! /usr/bin/env ruby
require 'nokogiri'
require 'net/http'

date_array = [
  "2017-01-03+05%3A40%3A15",
  "2017-01-03+05%3A40%3A20",
  "2017-01-03+21%3A25%3A16",
  "2017-01-03+21%3A25%3A16",
  "2017-01-03+21%3A35%3A18",
  "2017-01-03+21%3A35%3A58",
  "2017-01-04+05%3A53%3A17",
  "2017-01-04+05%3A53%3A24",
  "2017-01-04+21%3A25%3A14",
  "2017-01-04+21%3A25%3A32",
  "2017-01-04+21%3A39%3A36",
  "2017-01-04+21%3A39%3A58",
  "2017-01-05+05%3A43%3A17",
  "2017-01-05+05%3A43%3A18",
  "2017-01-05+21%3A26%3A14",
  "2017-01-05+21%3A26%3A48",
  "2017-01-05+21%3A38%3A42",
  "2017-01-05+21%3A38%3A48",
  "2017-01-06+05%3A46%3A27",
  "2017-01-06+05%3A46%3A33",
  "2017-01-06+21%3A30%3A00",
  "2017-01-06+21%3A30%3A32",
  "2017-01-07+05%3A43%3A12",
  "2017-01-07+05%3A43%3A13",
  "2017-01-07+21%3A59%3A01",
  "2017-01-07+21%3A59%3A44",
  "2017-01-08+05%3A47%3A09",
  "2017-01-08+05%3A47%3A36",
  "2017-01-08+21%3A32%3A01",
  "2017-01-08+21%3A32%3A16",
  "2017-01-09+05%3A49%3A28",
  "2017-01-09+05%3A49%3A51",
  "2017-01-09+21%3A26%3A21",
  "2017-01-09+21%3A26%3A30",
  "2017-01-09+21%3A41%3A04",
  "2017-01-09+21%3A41%3A51",
  "2017-01-10+06%3A00%3A09",
  "2017-01-10+06%3A00%3A57",
  "2017-01-10+21%3A24%3A37",
  "2017-01-10+21%3A24%3A38",
  "2017-01-10+21%3A37%3A07",
  "2017-01-10+21%3A37%3A50",
  "2017-01-11+05%3A44%3A21",
  "2017-01-11+05%3A44%3A35",
  "2017-01-11+21%3A16%3A56",
  "2017-01-11+21%3A16%3A57",
  "2017-01-11+21%3A26%3A10",
  "2017-01-11+21%3A26%3A24",
  "2017-01-12+06%3A11%3A21",
  "2017-01-12+06%3A11%3A59",
  "2017-01-12+21%3A20%3A27",
  "2017-01-12+21%3A20%3A46",
  "2017-01-12+21%3A30%3A13",
  "2017-01-12+21%3A30%3A56",
  "2017-01-13+21%3A32%3A20",
  "2017-01-13+21%3A32%3A44",
  "2017-01-14+05%3A54%3A03",
  "2017-01-14+05%3A54%3A56",
  "2017-01-14+10%3A05%3A40",
  "2017-01-14+10%3A05%3A42",
  "2017-01-14+21%3A22%3A02",
  "2017-01-14+21%3A22%3A10",
  "2017-01-14+21%3A37%3A12",
  "2017-01-14+21%3A37%3A26",
  "2017-01-15+05%3A41%3A18",
  "2017-01-15+05%3A41%3A24",
  "2017-01-15+21%3A27%3A07",
  "2017-01-15+21%3A27%3A48",
  "2017-01-15+21%3A37%3A29",
  "2017-01-15+21%3A37%3A54",
  "2017-01-16+05%3A38%3A07",
  "2017-01-16+05%3A38%3A24",
  "2017-01-16+21%3A30%3A24",
  "2017-01-16+21%3A30%3A33",
  "2017-01-17+05%3A45%3A02",
  "2017-01-17+05%3A45%3A35",
  "2017-01-17+21%3A31%3A18",
  "2017-01-17+21%3A31%3A19",
  "2017-01-18+05%3A49%3A19",
  "2017-01-18+05%3A49%3A55",
  "2017-01-18+21%3A34%3A26",
  "2017-01-18+21%3A34%3A41",
  "2017-01-19+05%3A52%3A40",
  "2017-01-19+05%3A52%3A53",
  "2017-01-19+21%3A31%3A14",
  "2017-01-19+21%3A31%3A43",
  "2017-01-20+06%3A21%3A00",
  "2017-01-20+06%3A21%3A52",
  "2017-01-20+21%3A25%3A25",
  "2017-01-20+21%3A25%3A34",
  "2017-01-20+21%3A26%3A18",
  "2017-01-20+21%3A26%3A53",
  "2017-01-21+05%3A56%3A31",
  "2017-01-21+05%3A56%3A37",
  "2017-01-21+21%3A20%3A05",
  "2017-01-21+21%3A20%3A58",
  "2017-01-21+21%3A36%3A02",
  "2017-01-21+21%3A36%3A08",
  "2017-01-22+05%3A44%3A00",
  "2017-01-22+05%3A44%3A00",
  "2017-01-22+21%3A24%3A07",
  "2017-01-22+21%3A24%3A14",
  "2017-01-22+21%3A36%3A34",
  "2017-01-22+21%3A36%3A59",
  "2017-01-23+05%3A40%3A46",
  "2017-01-23+05%3A40%3A52",
  "2017-01-23+21%3A18%3A16",
  "2017-01-23+21%3A18%3A22",
  "2017-01-24+05%3A42%3A12",
  "2017-01-24+05%3A42%3A19",
  "2017-01-24+21%3A19%3A30",
  "2017-01-24+21%3A19%3A30",
  "2017-01-24+21%3A35%3A00",
  "2017-01-24+21%3A35%3A34",
  "2017-01-25+05%3A29%3A17",
  "2017-01-25+05%3A29%3A17",
  "2017-01-25+21%3A31%3A07",
  "2017-01-25+21%3A31%3A47",
  "2017-01-26+05%3A35%3A03",
  "2017-01-26+05%3A35%3A03",
  "2017-01-26+06%3A06%3A07",
  "2017-01-26+06%3A06%3A56",
  "2017-01-26+21%3A30%3A00",
  "2017-01-26+21%3A30%3A19",
  "2017-01-27+05%3A42%3A08",
  "2017-01-27+05%3A42%3A39",
  "2017-01-27+21%3A36%3A15",
  "2017-01-27+21%3A36%3A15",
  "2017-01-28+05%3A39%3A41",
  "2017-01-28+05%3A39%3A49",
  "2017-01-28+12%3A51%3A08",
  "2017-01-28+12%3A51%3A08",
  "2017-01-28+21%3A33%3A01",
  "2017-01-28+21%3A33%3A21",
  "2017-01-29+06%3A31%3A12",
  "2017-01-29+06%3A31%3A12",
  "2017-01-29+21%3A30%3A33",
  "2017-01-29+21%3A30%3A33",
  "2017-01-30+05%3A52%3A51",
  "2017-01-30+05%3A52%3A51",
  "2017-01-30+21%3A29%3A00",
  "2017-01-30+21%3A29%3A00",
  "2017-01-31+05%3A44%3A00",
  "2017-01-31+05%3A44%3A54",
  "2017-01-31+21%3A24%3A18",
  "2017-01-31+21%3A24%3A24",
  "2017-01-31+21%3A36%3A05",
  "2017-01-31+21%3A36%3A53",
  "2017-02-01+05%3A38%3A55",
  "2017-02-01+05%3A38%3A55",
  "2017-02-01+21%3A21%3A13",
  "2017-02-01+21%3A21%3A14",
  "2017-02-01+21%3A36%3A45",
  "2017-02-01+21%3A36%3A45",
  "2017-02-02+05%3A49%3A12",
  "2017-02-02+05%3A49%3A13",
  "2017-02-02+21%3A35%3A02",
  "2017-02-02+21%3A35%3A08",
  "2017-02-03+05%3A42%3A32",
  "2017-02-03+05%3A42%3A45",
  "2017-02-03+21%3A42%3A04",
  "2017-02-03+21%3A42%3A44",
  "2017-02-04+05%3A37%3A42",
  "2017-02-04+05%3A37%3A49",
  "2017-02-04+21%3A22%3A21",
  "2017-02-04+21%3A22%3A28",
  "2017-02-04+21%3A39%3A17",
  "2017-02-04+21%3A39%3A26",
  "2017-02-05+06%3A07%3A33",
  "2017-02-05+06%3A07%3A39",
  "2017-02-05+21%3A22%3A10",
  "2017-02-05+21%3A22%3A10",
  "2017-02-05+21%3A36%3A20",
  "2017-02-05+21%3A36%3A49",
  "2017-02-06+05%3A32%3A48",
  "2017-02-06+05%3A32%3A55",
  "2017-02-06+05%3A47%3A36",
  "2017-02-06+05%3A47%3A36",
  "2017-02-06+21%3A35%3A30",
  "2017-02-06+21%3A35%3A30",
  "2017-02-07+05%3A27%3A09",
  "2017-02-07+05%3A27%3A09",
  "2017-02-07+21%3A22%3A42",
  "2017-02-07+21%3A22%3A42",
  "2017-02-07+21%3A37%3A07",
  "2017-02-07+21%3A37%3A14",
  "2017-02-07+21%3A42%3A34",
  "2017-02-07+21%3A42%3A56",
  "2017-02-08+06%3A19%3A05",
  "2017-02-08+06%3A19%3A12",
  "2017-02-08+14%3A00%3A19",
  "2017-02-08+14%3A00%3A27",
  "2017-02-08+17%3A38%3A30",
  "2017-02-08+17%3A38%3A37",
  "2017-02-08+21%3A22%3A57",
  "2017-02-08+21%3A22%3A57",
  "2017-02-08+21%3A37%3A01",
  "2017-02-08+21%3A37%3A34",
  "2017-02-09+05%3A42%3A30",
  "2017-02-09+05%3A42%3A30",
  "2017-02-09+22%3A10%3A23",
  "2017-02-09+22%3A10%3A47",
  "2017-02-10+05%3A50%3A04",
  "2017-02-10+05%3A50%3A10",
  "2017-02-10+18%3A47%3A35",
  "2017-02-10+18%3A47%3A54",
  "2017-02-10+21%3A17%3A52",
  "2017-02-10+21%3A17%3A59",
  "2017-02-10+22%3A50%3A32",
  "2017-02-10+22%3A50%3A38",
  "2017-02-11+06%3A00%3A36",
  "2017-02-11+06%3A00%3A43",
  "2017-02-11+13%3A28%3A24",
  "2017-02-11+13%3A28%3A24",
  "2017-02-11+21%3A21%3A46",
  "2017-02-11+21%3A21%3A53",
  "2017-02-11+21%3A24%3A38",
  "2017-02-11+21%3A24%3A39",
  "2017-02-11+21%3A35%3A12",
  "2017-02-11+21%3A35%3A18",
  "2017-02-12+05%3A37%3A48",
  "2017-02-12+05%3A37%3A55",
  "2017-02-12+19%3A27%3A03",
  "2017-02-12+19%3A27%3A10",
  "2017-02-12+19%3A30%3A00",
  "2017-02-12+19%3A30%3A53",
  "2017-02-12+21%3A23%3A16",
  "2017-02-12+21%3A23%3A23",
  "2017-02-12+21%3A33%3A12",
  "2017-02-12+21%3A33%3A59",
  "2017-02-13+05%3A39%3A31",
  "2017-02-13+05%3A39%3A40",
  "2017-02-13+21%3A31%3A07",
  "2017-02-13+21%3A31%3A48",
  "2017-02-13+21%3A41%3A02",
  "2017-02-13+21%3A41%3A14",
  "2017-02-13+21%3A52%3A49",
  "2017-02-13+21%3A52%3A55",
  "2017-02-13+21%3A58%3A37",
  "2017-02-13+21%3A58%3A37",
  "2017-02-13+22%3A14%3A02",
  "2017-02-13+22%3A14%3A43",
  "2017-02-14+05%3A44%3A26",
  "2017-02-14+05%3A44%3A32",
  "2017-02-14+21%3A31%3A25",
  "2017-02-14+21%3A31%3A32",
  "2017-02-15+05%3A47%3A04",
  "2017-02-15+05%3A47%3A58",
  "2017-02-15+21%3A30%3A53",
  "2017-02-16+05%3A44%3A32",
  "2017-02-16+05%3A44%3A53",
  "2017-02-16+21%3A30%3A50",
  "2017-02-16+21%3A30%3A50",
  "2017-02-17+05%3A34%3A10",
  "2017-02-17+05%3A34%3A17",
  "2017-02-17+21%3A20%3A05",
  "2017-02-17+21%3A20%3A50",
  "2017-02-17+21%3A21%3A32",
  "2017-02-17+21%3A21%3A38",
  "2017-02-18+05%3A31%3A37",
  "2017-02-18+21%3A21%3A19",
  "2017-02-18+21%3A21%3A25",
  "2017-02-18+21%3A40%3A14",
  "2017-02-18+21%3A40%3A14",
  "2017-02-19+05%3A32%3A06",
  "2017-02-19+05%3A32%3A59",
  "2017-02-19+21%3A21%3A48",
  "2017-02-19+21%3A21%3A54",
  "2017-02-20+05%3A38%3A38",
  "2017-02-20+05%3A38%3A39",
  "2017-02-20+21%3A19%3A16",
  "2017-02-20+21%3A19%3A23",
  "2017-02-21+05%3A49%3A14",
  "2017-02-21+05%3A49%3A35",
  "2017-02-21+08%3A37%3A23",
  "2017-02-21+08%3A37%3A43",
  "2017-02-21+21%3A30%3A54",
  "2017-02-21+21%3A30%3A54",
  "2017-02-22+05%3A59%3A18",
  "2017-02-22+05%3A59%3A44",
  "2017-02-22+21%3A49%3A16",
  "2017-02-22+21%3A49%3A52",
  "2017-02-23+06%3A03%3A42",
  "2017-02-23+06%3A03%3A58",
  "2017-02-23+21%3A21%3A43",
  "2017-02-23+21%3A21%3A44",
  "2017-02-23+21%3A38%3A28",
  "2017-02-23+21%3A38%3A34",
  "2017-02-24+05%3A44%3A33",
  "2017-02-24+05%3A44%3A40",
  "2017-02-24+21%3A31%3A09",
  "2017-02-24+21%3A31%3A16",
  "2017-02-25+05%3A45%3A55",
  "2017-02-25+05%3A45%3A55",
  "2017-02-25+21%3A29%3A01",
  "2017-02-25+21%3A29%3A36",
  "2017-02-26+05%3A43%3A06",
  "2017-02-26+05%3A43%3A14",
  "2017-02-26+21%3A23%3A03",
  "2017-02-26+21%3A23%3A03",
  "2017-02-26+21%3A23%3A15",
  "2017-02-26+21%3A23%3A36",
  "2017-02-27+05%3A41%3A31",
  "2017-02-27+05%3A41%3A33",
  "2017-02-27+21%3A16%3A07",
  "2017-02-27+21%3A16%3A16",
  "2017-02-27+21%3A36%3A15",
  "2017-02-27+21%3A36%3A21",
  "2017-02-28+06%3A14%3A16",
  "2017-02-28+06%3A14%3A23",
  "2017-02-28+21%3A17%3A47",
  "2017-02-28+21%3A17%3A47",
  "2017-03-01+06%3A23%3A04",
  "2017-03-01+06%3A23%3A11",
  "2017-03-01+21%3A21%3A38",
  "2017-03-01+21%3A21%3A59",
  "2017-03-02+05%3A27%3A06",
  "2017-03-02+05%3A27%3A59",
  "2017-03-02+21%3A26%3A07",
  "2017-03-02+21%3A26%3A20",
  "2017-03-02+21%3A38%3A22",
  "2017-03-02+21%3A38%3A29",
  "2017-03-03+06%3A11%3A23",
  "2017-03-03+06%3A11%3A35",
  "2017-03-03+06%3A17%3A36",
  "2017-03-03+06%3A17%3A43",
  "2017-03-03+06%3A29%3A42",
  "2017-03-03+06%3A29%3A48",
  "2017-03-03+21%3A31%3A15",
  "2017-03-03+21%3A31%3A22",
  "2017-03-04+06%3A25%3A24",
  "2017-03-04+06%3A25%3A24",
  "2017-03-04+06%3A42%3A39",
  "2017-03-04+06%3A42%3A39",
  "2017-03-04+12%3A57%3A02",
  "2017-03-04+12%3A57%3A49"
]

base_url='http://w2.weather.gov/climate/getclimate.php?date=&wfo=box&sid=ORH&pil=CLI&recent=yes&specdate='

date_array.each do |date|
  uri = URI(base_url + date)

  Net::HTTP.start(uri.host) do |http|
      resp = http.get(uri)
      page = Nokogiri::HTML(resp.body)
      title = page.css('h3')
      data = page.css('pre')
      open("tmp/#{date}.html", "wb") do |file|
          file.write(title)
          file.write(data)
      end
  end
end
